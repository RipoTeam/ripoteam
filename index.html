<!DOCTYPE html>
<html>
<head>
    <title>Ripo Team Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Add all required scripts -->
    <script src="js/users.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/warnings.js"></script>
    <script src="js/bans.js"></script>
    <script src="js/attendance.js"></script>
    <script>
        // Initialize core data on first load
        if (!localStorage.getItem('initialized')) {
            const initialUsers = [
                { 
                    id: 1, 
                    username: "Ripo Team", 
                    password: "admin123", 
                    role: "admin", 
                    status: "active" 
                },
                {
                    id: 2,
                    username: "test",
                    password: "test123",
                    role: "user",
                    status: "active"
                }
            ];
            localStorage.setItem('users', JSON.stringify(initialUsers));
            localStorage.setItem('tasks', JSON.stringify([]));
            localStorage.setItem('warnings', JSON.stringify([]));
            localStorage.setItem('bans', JSON.stringify([]));
            localStorage.setItem('attendance', JSON.stringify([]));
            localStorage.setItem('initialized', 'true');
        }

        // Check login and redirect
        const currentUser = localStorage.getItem('currentUser');
        if (currentUser) {
            const user = JSON.parse(currentUser);
            window.location.href = user.role === 'admin' ? 'dashboard.html' : 'user-dashboard.html';
        } else {
            window.location.href = 'login.html';
        }
    </script>
</head>
<body>
</body>
</html>